#include <iostream>
#include <iomanip> // Для форматирования вывода

using namespace std;

double calculateTotalTime() {
  """
  Вычисляет общее время движения лодки между двумя пунктами туда и обратно,
  с учетом скорости течения реки.
  """

  double V, U, S;

  while (true) {
    try {
      cout << "Введите скорость лодки в стоячей воде (км/ч): ";
      cin >> V;
      if (V <= 0) {
        cout << "Скорость лодки должна быть положительной." << endl;
        continue; // Возвращаемся к началу цикла
      }
      cout << "Введите скорость течения реки (км/ч): ";
      cin >> U;
      if (U < 0) {
        cout << "Скорость течения не может быть отрицательной." << endl;
        continue; // Возвращаемся к началу цикла
      }
      if (U >= V) {
        cout << "Скорость течения не может быть больше или равна скорости лодки!" << endl;
        continue;
      }
      cout << "Введите расстояние между пунктами А и Б (км): ";
      cin >> S;
      if (S <= 0) {
        cout << "Расстояние должно быть положительным." << endl;
        continue; // Возвращаемся к началу цикла
      }
      break; // Если все введено верно, выходим из цикла
    } catch (...) {
      cout << "Ошибка ввода! Пожалуйста, введите числа." << endl;
      cin.clear(); // Очищаем флаги ошибок
      cin.ignore(numeric_limits<streamsize>::max(), '\n'); // Удаляем некорректный ввод из буфера
    }
  }

  // Вычисляем время движения по течению
  double t1 = S / (V + U);

  // Вычисляем время движения против течения
  double t2 = S / (V - U);

  // Вычисляем общее время
  double T = t1 + t2;

  return T;
}

int main() {
  double totalTime = calculateTotalTime();
  cout << fixed << setprecision(2) << "Общее время движения лодки: " << totalTime << " часов" << endl;
  return 0;
}
